System.register("chunks:///_virtual/BackendMock.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,s=t.Component}],execute:function(){var i;n._RF.push({},"9dcd8ipH3NJZLqESYyQgyDg","BackendMock",void 0);var c=o.ccclass;t("BackendMock",c("BackendMock")(i=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this).bettingDuration=15,e.resultDuration=14,e}e(n,t);var o=n.prototype;return o.start=function(){this.startBettingPhase()},o.startBettingPhase=function(){var t=this;console.log("START BETTING"),this.node.emit("BETTING_START"),this.scheduleOnce((function(){t.startResultPhase()}),this.bettingDuration)},o.startResultPhase=function(){var t=this;console.log("STOP BETTING"),this.node.emit("BETTING_STOP");this.node.emit("RESULT_CARDS",{dragon:"2_D",tiger:"K_S"}),this.scheduleOnce((function(){t.startBettingPhase()}),this.resultDuration)},n}(s))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/BettingBannerController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,s,r,a,l,u,h,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.AudioSource,l=t.view,u=t.Vec3,h=t.tween,c=t.Component}],execute:function(){var p,d,y,T,v,A,f;s._RF.push({},"677664xDDVGx5z71Xr8+/Ht","BettingBannerController",void 0);var g=r.ccclass,x=r.property;t("BettingBannerController",(p=g("BettingBannerController"),d=x(a),y=x(a),p((A=i((v=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(i=t.call.apply(t,[this].concat(s))||this).startText=null,i.stopText=null,o(i,"startAudio",A,n(i)),o(i,"stopAudio",f,n(i)),i}e(i,t);var s=i.prototype;return s.start=function(){var t,i;this.startText=(null==(t=this.node.getChildByName("background"))?void 0:t.getChildByName("StartText"))||null,this.stopText=(null==(i=this.node.getChildByName("background"))?void 0:i.getChildByName("StopText"))||null,this.node.on("SHOW_START_BANNER",this.showStart,this),this.node.on("SHOW_STOP_BANNER",this.showStop,this),this.node.active=!1},s.showStart=function(){this.startText&&this.stopText&&(this.startText.active=!0,this.stopText.active=!1,this.playAnimation(!1))},s.showStop=function(){this.startText&&this.stopText&&(this.startText.active=!1,this.stopText.active=!0,this.playAnimation(!0))},s.playAnimation=function(t){var i=this,e=l.getVisibleSize().width,o=new u(-e,0,0),n=new u(0,0,0),s=new u(e,0,0);this.node.active=!0,this.node.setPosition(o),t?this.stopAudio&&(this.stopAudio.playbackRate=1.2,this.stopAudio.play()):this.startAudio&&(this.startAudio.playbackRate=1.2,this.startAudio.play()),h(this.node).to(.3,{position:n}).delay(.4).to(.3,{position:s}).call((function(){i.node.active=!1,t&&i.node.emit("STOP_BANNER_COMPLETE")})).start()},i}(c)).prototype,"startAudio",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=i(v.prototype,"stopAudio",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=v))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/CardRoundController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardView.ts","./BackendMock.ts","./BettingBannerController.ts","./WinnerZoneController.ts"],(function(n){var r,e,t,i,o,a,l,d,s,u,c;return{setters:[function(n){r=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,l=n.Component},function(n){d=n.CardView},function(n){s=n.BackendMock},function(n){u=n.BettingBannerController},function(n){c=n.WinnerZoneController}],execute:function(){var C,p,g,f,h,b,w,R,y,S,T,B,_;o._RF.push({},"0ecaczQpKZJvoYSu+SpaEc/","CardRoundController",void 0);var v=a.ccclass,E=a.property;n("CardRoundController",(C=v("CardRoundController"),p=E(d),g=E(d),f=E(s),h=E(u),b=E(c),C((y=r((R=function(n){function r(){for(var r,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return r=n.call.apply(n,[this].concat(o))||this,t(r,"dragonCard",y,i(r)),t(r,"tigerCard",S,i(r)),t(r,"backend",T,i(r)),t(r,"banner",B,i(r)),t(r,"winnerController",_,i(r)),r.pendingCards=null,r}e(r,n);var o=r.prototype;return o.start=function(){var n=this;this.backend.node.on("BETTING_START",this.onBettingStart,this),this.backend.node.on("RESULT_CARDS",this.onResultCards,this),this.banner.node.on("STOP_BANNER_COMPLETE",this.flipCardsNow,this),this.dragonCard.node.on("CARD_FLIP_COMPLETE",(function(){n.winnerController.onCardFlipComplete("Dragon")})),this.tigerCard.node.on("CARD_FLIP_COMPLETE",(function(){n.winnerController.onCardFlipComplete("Tiger")})),this.onBettingStart()},o.onBettingStart=function(){console.log("New Round → Reset Cards"),this.pendingCards=null,this.dragonCard.resetCard(),this.tigerCard.resetCard()},o.onResultCards=function(n){console.log("Cards received but waiting for STOP banner"),this.pendingCards=n},o.flipCardsNow=function(){var n=this;this.pendingCards&&(console.log("STOP banner done → Start flipping cards"),this.dragonCard.setCard(this.pendingCards.dragon),this.tigerCard.setCard(this.pendingCards.tiger),this.dragonCard.flipOpen((function(){n.tigerCard.flipOpen()})),this.pendingCards=null)},r}(l)).prototype,"dragonCard",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(R.prototype,"tigerCard",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=r(R.prototype,"backend",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=r(R.prototype,"banner",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=r(R.prototype,"winnerController",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=R))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/CardView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,n,a,l,o,u,c,s,p,b,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Node,u=e.Sprite,c=e.SpriteFrame,s=e.AudioSource,p=e.tween,b=e.Vec3,f=e.Component}],execute:function(){var d,h,m,g,w,y,k,v,z,R,C,L,S,A,F,T,I,_,D,B,V,x,G,P,H,O,W,E,M,N,Q;a._RF.push({},"b30ed7gYwtN/4uILQZsRB6g","CardView",void 0);var j=l.ccclass,J=l.property;e("CardView",(d=j("CardView"),h=J(o),m=J(o),g=J(u),w=J(u),y=J(u),k=J(u),v=J([c]),z=J([c]),R=J(c),C=J(c),L=J(c),S=J(c),A=J(c),F=J(s),d((_=i((I=function(e){function i(){for(var i,t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return i=e.call.apply(e,[this].concat(a))||this,r(i,"back",_,n(i)),r(i,"faceGroup",D,n(i)),r(i,"baseSprite",B,n(i)),r(i,"rankTL",V,n(i)),r(i,"suitTL",x,n(i)),r(i,"suitBR",G,n(i)),r(i,"redRanks",P,n(i)),r(i,"blackRanks",H,n(i)),r(i,"heart",O,n(i)),r(i,"diamond",W,n(i)),r(i,"spade",E,n(i)),r(i,"club",M,n(i)),r(i,"baseWhite",N,n(i)),r(i,"flipAudio",Q,n(i)),i}t(i,e);var a=i.prototype;return a.start=function(){this.resetCard()},a.resetCard=function(){this.node.setScale(1,1,1),this.back.active=!0,this.faceGroup.active=!1},a.setCard=function(e){console.log("Setting card:",e);var i=e.split("_");if(i.length<2)console.error("Invalid card format:",e);else{var t=i[0],r=i[1],n=this.getRankIndex(t);if(n<0)console.error("Invalid rank:",t);else{var a="H"===r||"D"===r;this.rankTL.spriteFrame=a?this.redRanks[n]:this.blackRanks[n],this.baseSprite.spriteFrame=this.baseWhite;var l=null;"H"===r&&(l=this.heart),"D"===r&&(l=this.diamond),"S"===r&&(l=this.spade),"C"===r&&(l=this.club),this.suitTL.spriteFrame=l,this.suitBR.spriteFrame=l}}},a.getRankIndex=function(e){return["A","2","3","4","5","6","7","8","9","10","J","Q","K"].indexOf(e)},a.flipOpen=function(e){var i=this;this.node.setScale(1,1,1),p(this.node).to(.2,{scale:new b(0,1,1)}).call((function(){i.flipAudio&&i.flipAudio.play(),i.back.active=!1,i.faceGroup.active=!0})).to(.2,{scale:new b(1,1,1)}).call((function(){i.node.emit("CARD_FLIP_COMPLETE"),e&&e()})).start()},i}(f)).prototype,"back",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(I.prototype,"faceGroup",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(I.prototype,"baseSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(I.prototype,"rankTL",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(I.prototype,"suitTL",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(I.prototype,"suitBR",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(I.prototype,"redRanks",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),H=i(I.prototype,"blackRanks",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(I.prototype,"heart",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(I.prototype,"diamond",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(I.prototype,"spade",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(I.prototype,"club",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(I.prototype,"baseWhite",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(I.prototype,"flipAudio",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=I))||T));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChipSelect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CoinFlyManager.ts"],(function(e){var t,r,i,n,o,a,c,l,s,p,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.Node,l=e.Prefab,s=e.Input,p=e.Vec3,u=e.Component},function(e){h=e.CoinFlyManager}],execute:function(){var b,f,d,y,g,C,v,F,S;o._RF.push({},"52415Ls/gpIAKkqYoMzErFQ","ChipSelect",void 0);var M=a.ccclass,m=a.property;e("ChipSelect",(b=M("ChipSelect"),f=m(c),d=m(l),y=m(h),b((v=t((C=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"border",v,n(t)),i(t,"betPrefab",F,n(t)),i(t,"coinFlyManager",S,n(t)),t}r(t,e);var o=t.prototype;return o.start=function(){this.border&&(this.border.active=!1),this.node.on(s.EventType.TOUCH_END,this.selectThisChip,this)},o.selectThisChip=function(){this.node.parent.children.forEach((function(e){var r=e.getComponent(t);r&&r.border&&(r.border.active=!1,e.setScale(new p(1,1,1)))})),this.border.active=!0,this.node.setScale(new p(1.05,1.05,1)),this.coinFlyManager&&this.betPrefab&&this.coinFlyManager.setSelectedChip(this.betPrefab),console.log("✅ Selected Chip:",this.node.name)},t}(u)).prototype,"border",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"betPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(C.prototype,"coinFlyManager",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=C))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/CoinFlyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,r,o,a,l,u,c,s,d,h,p,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,u=e.AudioSource,c=e.AudioClip,s=e.Vec3,d=e.instantiate,h=e.UITransform,p=e.tween,g=e.Component}],execute:function(){var f,b,y,C,m,v,M,S,w,N,B,P,z,T,Z,k,A,O,R,F,I;o._RF.push({},"9c8c7hyUQRHX7I71Wys7kTR","CoinFlyManager",void 0);var L=a.ccclass,D=a.property;e("CoinFlyManager",(f=L("CoinFlyManager"),b=D(l),y=D(l),C=D(l),m=D(l),v=D(l),M=D(l),S=D(l),w=D(u),N=D(c),f((z=n((P=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return n=e.call.apply(e,[this].concat(o))||this,i(n,"dragonZone",z,r(n)),i(n,"tieZone",T,r(n)),i(n,"tigerZone",Z,r(n)),i(n,"avatarNode",k,r(n)),i(n,"luckyStarNode",A,r(n)),i(n,"otherPlayerNode",O,r(n)),i(n,"roundManagerNode",R,r(n)),i(n,"audioSource",F,r(n)),i(n,"betClickSound",I,r(n)),n.roundManager=null,n.selectedChipPrefab=null,n.selectedChipValue=10,n.avatarOriginalPos=new s,n}t(n,e);var o=n.prototype;return o.start=function(){this.roundManager=this.roundManagerNode.getComponent("RoundManager"),this.avatarOriginalPos=this.avatarNode.position.clone()},o.setSelectedChip=function(e){this.selectedChipPrefab=e},o.betOnDragon=function(){this.tryBet("dragon",this.dragonZone)},o.betOnTiger=function(){this.tryBet("tiger",this.tigerZone)},o.betOnTie=function(){this.tryBet("tie",this.tieZone)},o.tryBet=function(e,n){this.roundManager.isBettingOpen()&&this.selectedChipPrefab&&(this.roundManager.playerBalance<this.selectedChipValue||(this.roundManager.playerBalance-=this.selectedChipValue,this.roundManager.updateBalanceUI(),this.audioSource&&this.betClickSound&&this.audioSource.playOneShot(this.betClickSound),this.flyChip(n)))},o.flyChip=function(e){var n=d(this.selectedChipPrefab);this.node.addChild(n);var t=this.node.getComponent(h).convertToNodeSpaceAR(this.avatarNode.worldPosition);n.setPosition(t);var i=this.getLandingInsideBottom80(e);p(n).to(.4,{position:i}).start()},o.moveLosingCoinsToWinner=function(e){},o.clearAllCoins=function(){this.node.removeAllChildren()},o.getLandingInsideBottom80=function(e){var n=e.getComponent(h),t=this.node.getComponent(h),i=n.getBoundingBoxToWorld(),r=i.xMin+35+Math.random()*(i.width-70),o=i.yMin+35+Math.random()*(.8*i.height-70);return t.convertToNodeSpaceAR(new s(r,o,0))},n}(g)).prototype,"dragonZone",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(P.prototype,"tieZone",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(P.prototype,"tigerZone",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(P.prototype,"avatarNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(P.prototype,"luckyStarNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(P.prototype,"otherPlayerNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(P.prototype,"roundManagerNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(P.prototype,"audioSource",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(P.prototype,"betClickSound",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=P))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/DragonIdleAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,l,r,a,s,g,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,a=t.Node,s=t.Vec3,g=t.tween,h=t.Component}],execute:function(){var u,c,d,p,f,w,y,b,R,H,A,v,m,L,F,P,z;l._RF.push({},"cdebaa3RMxGPa+Dcn4h8YlJ","DragonIdleAnimation",void 0);var D=r.ccclass,B=r.property;t("DragonIdleAnimation",(u=D("DragonIdleAnimation"),c=B(a),d=B(a),p=B(a),f=B(a),w=B(a),y=B(a),b=B(a),u((A=e((H=function(t){function e(){for(var e,n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,i(e,"wingRight",A,o(e)),i(e,"wingLeft",v,o(e)),i(e,"leftHand",m,o(e)),i(e,"rightHand",L,o(e)),i(e,"tail",F,o(e)),i(e,"body",P,o(e)),i(e,"leg",z,o(e)),e.wingRightRot=new s,e.wingLeftRot=new s,e.tailRot=new s,e.leftHandRot=new s,e.rightHandRot=new s,e.bodyPos=new s,e.legPos=new s,e}n(e,t);var l=e.prototype;return l.start=function(){this.wingRight&&(this.wingRightRot=this.wingRight.eulerAngles.clone()),this.wingLeft&&(this.wingLeftRot=this.wingLeft.eulerAngles.clone()),this.tail&&(this.tailRot=this.tail.eulerAngles.clone()),this.leftHand&&(this.leftHandRot=this.leftHand.eulerAngles.clone()),this.rightHand&&(this.rightHandRot=this.rightHand.eulerAngles.clone()),this.body&&(this.bodyPos=this.body.position.clone()),this.leg&&(this.legPos=this.leg.position.clone()),this.playWingFlap(),this.playTailSwing(),this.playHandMovement(),this.playBodyBreathing(),this.playLegBounce()},l.playWingFlap=function(){var t=1.5;this.wingRight&&g(this.wingRight).repeatForever(g().to(t,{eulerAngles:this.wingRightRot.clone().add(new s(-22,0,0))}).to(t,{eulerAngles:this.wingRightRot.clone().add(new s(22,0,0))})).start(),this.wingLeft&&g(this.wingLeft).repeatForever(g().to(t,{eulerAngles:this.wingLeftRot.clone().add(new s(-22,0,0))}).to(t,{eulerAngles:this.wingLeftRot.clone().add(new s(22,0,0))})).start()},l.playTailSwing=function(){if(this.tail){g(this.tail).repeatForever(g().to(.8,{eulerAngles:this.tailRot.clone().add(new s(0,0,5))}).to(.8,{eulerAngles:this.tailRot.clone().add(new s(0,0,-5))})).start()}},l.playHandMovement=function(){this.leftHand&&g(this.leftHand).repeatForever(g().to(.8,{eulerAngles:this.leftHandRot.clone().add(new s(0,0,6))}).to(.8,{eulerAngles:this.leftHandRot.clone().add(new s(0,0,-6))})).start(),this.rightHand&&g(this.rightHand).repeatForever(g().to(.8,{eulerAngles:this.rightHandRot.clone().add(new s(0,0,-3))}).to(.8,{eulerAngles:this.rightHandRot.clone()})).start()},l.playBodyBreathing=function(){this.body&&g(this.body).repeatForever(g().to(1,{position:this.bodyPos.clone().add(new s(0,2,0))}).to(1,{position:this.bodyPos.clone()})).start()},l.playLegBounce=function(){this.leg&&g(this.leg).repeatForever(g().to(1,{position:this.legPos.clone().add(new s(0,1.5,0))}).to(1,{position:this.legPos.clone()})).start()},e}(h)).prototype,"wingRight",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(H.prototype,"wingLeft",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(H.prototype,"leftHand",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(H.prototype,"rightHand",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(H.prototype,"tail",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(H.prototype,"body",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(H.prototype,"leg",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=H))||R));l._RF.pop()}}}));

System.register("chunks:///_virtual/DragonThunderAura.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,s,h,a,u,o,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,h=e._decorator,a=e.SpriteFrame,u=e.Sprite,o=e.Vec3,d=e.Component}],execute:function(){var p,c,l,m,f,S,F;s._RF.push({},"153c2OfxGNNPYxXGCGVS8Su","DragonThunderAura",void 0);var g=h.ccclass,x=h.property;e("DragonThunderAura",(p=g("DragonThunderAura"),c=x([a]),l=x(u),p((S=t((f=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),h=0;h<r;h++)s[h]=arguments[h];return t=e.call.apply(e,[this].concat(s))||this,n(t,"thunderFrames",S,i(t)),n(t,"thunderSprite",F,i(t)),t.frameIndex=0,t.posIndex=0,t.thunderPositions=[new o(0,40,0),new o(-40,40,0),new o(40,40,0)],t}r(t,e);var s=t.prototype;return s.start=function(){this.thunderSprite&&(this.thunderSprite.node.active=!1),this.schedule(this.playThunderFlash,3)},s.playThunderFlash=function(){this.thunderSprite&&0!==this.thunderFrames.length&&(this.frameIndex=0,this.thunderSprite.node.setPosition(this.thunderPositions[this.posIndex]),this.posIndex++,this.posIndex>=this.thunderPositions.length&&(this.posIndex=0),this.thunderSprite.node.active=!0,this.schedule(this.animateThunderFrames,.05))},s.animateThunderFrames=function(){this.thunderSprite&&(this.thunderSprite.spriteFrame=this.thunderFrames[this.frameIndex],this.frameIndex++,this.frameIndex>=this.thunderFrames.length&&(this.thunderSprite.node.active=!1,this.unschedule(this.animateThunderFrames)))},t}(d)).prototype,"thunderFrames",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(f.prototype,"thunderSprite",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f))||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,i,o,t,l,a,c,s,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){t=e.cclegacy,l=e._decorator,a=e.Sprite,c=e.Label,s=e.director,u=e.Component}],execute:function(){var p,g,d,f,S,b,h,L;t._RF.push({},"b1565chLWZDT60KANDGbyLU","LoadingScreen",void 0);var y=l.ccclass,v=l.property;e("LoadingScreen",(p=y("LoadingScreen"),g=v(a),d=v(c),p((b=n((S=function(e){function n(){for(var n,r=arguments.length,t=new Array(r),l=0;l<r;l++)t[l]=arguments[l];return n=e.call.apply(e,[this].concat(t))||this,i(n,"progressFill",b,o(n)),i(n,"loadingLabel",h,o(n)),i(n,"nextScene",L,o(n)),n}return r(n,e),n.prototype.start=function(){var e=this;console.log("Loading Screen Started..."),console.log("Next Scene:",this.nextScene),this.progressFill&&(this.progressFill.fillRange=0),s.preloadScene(this.nextScene,(function(n,r){var i=n/r;e.progressFill&&(e.progressFill.fillRange=i),e.loadingLabel&&(e.loadingLabel.string="LOADING..."+Math.floor(100*i)+"%")}),(function(n){n?console.error("Preload failed:",n):(console.log("Preload Complete! Switching Scene..."),s.loadScene(e.nextScene))}))},n}(u)).prototype,"progressFill",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(S.prototype,"loadingLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(S.prototype,"nextScene",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Gamescreen"}}),f=S))||f));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BackendMock.ts","./BettingBannerController.ts","./CardRoundController.ts","./CardView.ts","./ChipSelect.ts","./CoinFlyManager.ts","./DragonIdleAnimation.ts","./DragonThunderAura.ts","./LoadingScreen.ts","./RandomOtherIconBet.ts","./RoundManager.ts","./StarBetEffect.ts","./TigerFireAura.ts","./TigerIdleAnimation.ts","./TimerController.ts","./WinnerZoneController.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/RandomOtherIconBet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,a,s,l,c,h,u,d,g,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Node,l=t.Prefab,c=t.Vec3,h=t.instantiate,u=t.UITransform,d=t.tween,g=t.Tween,p=t.Component}],execute:function(){var m,f,y,P,b,R,v,M,B,I,O,w,C;r._RF.push({},"f6b4dsB7r9PA5Gn3LRuuMXz","RandomOtherIconBet",void 0);var z=a.ccclass,Z=a.property;t("RandomOtherIconBet",(m=z("RandomOtherIconBet"),f=Z(s),y=Z(s),P=Z(s),b=Z(s),R=Z([l]),m((B=e((M=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"dragonZone",B,i(e)),o(e,"tieZone",I,i(e)),o(e,"tigerZone",O,i(e)),o(e,"otherPlayersIcon",w,i(e)),o(e,"chipPrefabs",C,i(e)),e.iconOriginalPos=new c,e.gameRoot=null,e}n(e,t);var r=e.prototype;return r.start=function(){this.iconOriginalPos=this.otherPlayersIcon.position.clone(),this.gameRoot=this.node.scene.getChildByName("Canvas").getChildByName("GameRoot"),this.startRandomLoop()},r.startRandomLoop=function(){var t=this;this.schedule((function(){var e=1+2*Math.random();t.scheduleOnce((function(){t.placeRandomBet()}),e)}),1)},r.placeRandomBet=function(){if(0!==this.chipPrefabs.length){var t=this.chipPrefabs[Math.floor(Math.random()*this.chipPrefabs.length)],e=[this.dragonZone,this.tieZone,this.tigerZone],n=e[Math.floor(Math.random()*e.length)];this.iconRecoil(),this.flyChip(t,n)}},r.flyChip=function(t,e){var n=h(t);this.gameRoot.addChild(n),n.setScale(new c(.65,.65,1));var o=n.getComponent(u);o&&(o.enabled=!1);var i=this.otherPlayersIcon.worldPosition.clone();i.y-=20;var r=this.gameRoot.getComponent(u).convertToNodeSpaceAR(i);n.setPosition(r);var a=this.getLandingInsideBottom80(e),s=360*Math.random(),l=2+3*Math.random(),g=s+(Math.random()>.5?1:-1)*(360*l+180*Math.random());n.setRotationFromEuler(0,0,s),d(n).to(.45,{position:a,eulerAngles:new c(0,0,g)},{easing:"quadOut"}).start()},r.iconRecoil=function(){g.stopAllByTarget(this.otherPlayersIcon),this.otherPlayersIcon.setPosition(this.iconOriginalPos),d(this.otherPlayersIcon).to(.08,{position:new c(this.iconOriginalPos.x,this.iconOriginalPos.y-14,this.iconOriginalPos.z)},{easing:"quadOut"}).to(.14,{position:this.iconOriginalPos},{easing:"quadOut"}).start()},r.getLandingInsideBottom80=function(t){var e=t.getComponent(u),n=this.gameRoot.getComponent(u),o=e.getBoundingBoxToWorld(),i=o.xMin+35,r=o.xMax-35,a=o.yMin+35,s=o.yMin+.8*o.height-35,l=i+Math.random()*(r-i),h=a+Math.random()*(s-a);return n.convertToNodeSpaceAR(new c(l,h,0))},e}(p)).prototype,"dragonZone",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(M.prototype,"tieZone",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(M.prototype,"tigerZone",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(M.prototype,"otherPlayersIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(M.prototype,"chipPrefabs",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=M))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/RoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TimerController.ts","./BettingBannerController.ts"],(function(t){var e,r,n,o,i,l,a,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){i=t.cclegacy,l=t._decorator,a=t.Component},function(t){s=t.TimerController},function(t){u=t.BettingBannerController}],execute:function(){var c,h,m,p,g,T,f;i._RF.push({},"8740b94VCdPm41Fqho9GgZw","RoundManager",void 0);var C=l.ccclass,b=l.property;t("RoundManager",(c=C("RoundManager"),h=b(s),m=b(u),c((T=e((g=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return e=t.call.apply(t,[this].concat(i))||this,n(e,"timerController",T,o(e)),n(e,"bannerController",f,o(e)),e.bettingTime=15,e.resultTime=14,e}r(e,t);var i=e.prototype;return i.start=function(){this.timerController.node.on("TIMER_COMPLETE",this.onTimerComplete,this),this.startBettingPhase()},i.startBettingPhase=function(){var t=this;console.log("START BETTING"),this.bannerController.showStart(),this.scheduleOnce((function(){t.timerController.startTimer(t.bettingTime)}),1)},i.startResultPhase=function(){var t=this;console.log("STOP BETTING"),this.bannerController.showStop(),this.scheduleOnce((function(){t.timerController.startTimer(t.resultTime)}),1)},i.onTimerComplete=function(){this.timerController.duration===this.bettingTime?this.startResultPhase():this.startBettingPhase()},e}(a)).prototype,"timerController",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(g.prototype,"bannerController",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=g))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/StarBetEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,a,n,o,l,c,u,s;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){n=t.cclegacy,o=t._decorator,l=t.Node,c=t.UIOpacity,u=t.tween,s=t.Component}],execute:function(){var p,g,f,h,y,d,v,b,S,m,T,O,w,I,z,E,A,B,P;n._RF.push({},"c0be6+2RxZAUr743hcqXEKg","StarBetEffect",void 0);var k=o.ccclass,_=o.property;t("StarBetEffect",(p=k("StarBetEffect"),g=_(l),f=_(l),h=_(l),y=_(l),d=_(l),v=_(l),b=_(l),S=_(l),p((O=i((T=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return i=t.call.apply(t,[this].concat(n))||this,r(i,"luckyStarAvatar",O,a(i)),r(i,"movingStar",w,a(i)),r(i,"dragonTail",I,a(i)),r(i,"tigerTail",z,a(i)),r(i,"tieTail",E,a(i)),r(i,"dragonStarIcon",A,a(i)),r(i,"tigerStarIcon",B,a(i)),r(i,"tieStarIcon",P,a(i)),i.dragonOpacity=null,i.tigerOpacity=null,i.tieOpacity=null,i}e(i,t);var n=i.prototype;return n.start=function(){var t=this;this.movingStar.active=!1,this.dragonOpacity=this.setupTail(this.dragonTail),this.tigerOpacity=this.setupTail(this.tigerTail),this.tieOpacity=this.setupTail(this.tieTail),this.schedule((function(){t.autoBet()}),2)},n.setupTail=function(t){var i=t.getComponent(c);return i||(i=t.addComponent(c)),t.active=!0,i.opacity=0,i},n.hideAllTails=function(){this.dragonOpacity.opacity=0,this.tigerOpacity.opacity=0,this.tieOpacity.opacity=0},n.autoBet=function(){var t=Math.floor(3*Math.random());0===t&&this.playEffect("dragon"),1===t&&this.playEffect("tiger"),2===t&&this.playEffect("tie")},n.playEffect=function(t){var i,e,r=this;this.hideAllTails(),this.movingStar.active=!1,"dragon"===t?(i=this.dragonOpacity,e=this.dragonStarIcon):"tiger"===t?(i=this.tigerOpacity,e=this.tigerStarIcon):(i=this.tieOpacity,e=this.tieStarIcon),u(i).to(.2,{opacity:80}).start(),this.movingStar.active=!0,this.movingStar.setWorldPosition(this.luckyStarAvatar.getWorldPosition()),u(this.movingStar).to(.6,{worldPosition:e.getWorldPosition()},{easing:"sineOut"}).call((function(){r.movingStar.active=!1,u(i).to(.2,{opacity:0}).start()})).start()},i}(s)).prototype,"luckyStarAvatar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(T.prototype,"movingStar",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(T.prototype,"dragonTail",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(T.prototype,"tigerTail",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=i(T.prototype,"tieTail",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(T.prototype,"dragonStarIcon",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(T.prototype,"tigerStarIcon",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(T.prototype,"tieStarIcon",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=T))||m));n._RF.pop()}}}));

System.register("chunks:///_virtual/TigerFireAura.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,i,t,a,n,o,u,s,l;return{setters:[function(r){e=r.applyDecoratedDescriptor,i=r.inheritsLoose,t=r.initializerDefineProperty,a=r.assertThisInitialized},function(r){n=r.cclegacy,o=r._decorator,u=r.SpriteFrame,s=r.Sprite,l=r.Component}],execute:function(){var c,p,h,f,y,F,d,g,m,b,B;n._RF.push({},"47913nOSglH/axY9xyu3PfU","TigerFireAura",void 0);var v=o.ccclass,x=o.property;r("TigerFireAuraBoth",(c=v("TigerFireAuraBoth"),p=x([u]),h=x(s),f=x(s),y=x(s),c((g=e((d=function(r){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n))||this,t(e,"fireFrames",g,a(e)),t(e,"auraBack",m,a(e)),t(e,"auraBody",b,a(e)),t(e,"auraFront",B,a(e)),e.index=0,e}i(e,r);var n=e.prototype;return n.start=function(){this.auraFront&&(this.auraFront.node.opacity=160),this.auraBody&&(this.auraBody.node.opacity=50),this.schedule(this.playFire,.15)},n.playFire=function(){if(0!==this.fireFrames.length){var r=this.fireFrames[this.index];this.auraBack&&(this.auraBack.spriteFrame=r),this.auraBody&&(this.auraBody.spriteFrame=r),this.auraFront&&(this.auraFront.spriteFrame=r),this.index++,this.index>=this.fireFrames.length&&(this.index=0)}},e}(l)).prototype,"fireFrames",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=e(d.prototype,"auraBack",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(d.prototype,"auraBody",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(d.prototype,"auraFront",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=d))||F));n._RF.pop()}}}));

System.register("chunks:///_virtual/TigerIdleAnimation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,n,a,o,r,s,l,h,u,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,s=t.Node,l=t.Quat,h=t.tween,u=t.Vec3,c=t.Component}],execute:function(){var d,p,g,y,m,v,b,I,f,w,S;o._RF.push({},"20b47IECH5Foaj8gie33ku4","TigerIdleAnimation",void 0);var M=r.ccclass,T=r.property;t("TigerIdleSync",(d=M("TigerIdleSync"),p=T(s),g=T(s),y=T(s),m=T(s),d((I=i((b=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return i=t.call.apply(t,[this].concat(o))||this,n(i,"head",I,a(i)),n(i,"arm",f,a(i)),n(i,"body",w,a(i)),n(i,"tail",S,a(i)),i.duration=1,i.headMoveUp=3,i.headMoveForward=1,i.headSwingZ=2,i.headSwingX=5,i.armSwing=1,i.bodyTilt=.5,i.tailSwing=-6,i}e(i,t);var o=i.prototype;return o.start=function(){this.head&&this.arm&&this.body&&this.tail?(this.animateHead(),this.animateArm(),this.animateBodyAndTailSync()):console.log("❌ Assign Head, Arm, Body, Tail nodes in Inspector!")},o.animateHead=function(){var t=this.head.position.clone(),i=this.head.rotation.clone(),e=i.clone();l.rotateZ(e,e,this.headSwingZ*Math.PI/180),l.rotateX(e,e,this.headSwingX*Math.PI/180);var n=i.clone();h(this.head).repeatForever(h().to(this.duration,{position:new u(t.x+this.headMoveForward,t.y+this.headMoveUp,t.z),rotation:e},{easing:"sineInOut"}).to(this.duration,{position:t,rotation:n},{easing:"sineInOut"})).start()},o.animateArm=function(){var t=this.arm.rotation.clone(),i=t.clone();l.rotateZ(i,i,this.armSwing*Math.PI/180);var e=t.clone();l.rotateZ(e,e,-this.armSwing*Math.PI/180),h(this.arm).repeatForever(h().to(this.duration,{rotation:i},{easing:"sineInOut"}).to(this.duration,{rotation:e},{easing:"sineInOut"})).start()},o.animateBodyAndTailSync=function(){var t=this.body.rotation.clone(),i=this.tail.rotation.clone(),e=t.clone();l.rotateZ(e,e,-this.bodyTilt*Math.PI/180);var n=t.clone(),a=i.clone();l.rotateZ(a,a,-this.tailSwing*Math.PI/180);var o=i.clone();h(this.body).repeatForever(h().to(this.duration,{rotation:e},{easing:"sineInOut"}).to(this.duration,{rotation:n},{easing:"sineInOut"})).start(),h(this.tail).repeatForever(h().to(this.duration,{rotation:a},{easing:"sineInOut"}).to(this.duration,{rotation:o},{easing:"sineInOut"})).start()},i}(c)).prototype,"head",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=i(b.prototype,"arm",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(b.prototype,"body",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(b.prototype,"tail",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/TimerController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,n,o,a,l,s,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label,s=t.Sprite,u=t.Component}],execute:function(){var c,p,h,d,m,f,g;o._RF.push({},"ddffeMEqWROvJGPPBrdBTQy","TimerController",void 0);var T=a.ccclass,y=a.property;t("TimerController",(c=T("TimerController"),p=y(l),h=y(s),c((f=i((m=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,r(i,"timerText",f,n(i)),r(i,"timerRing",g,n(i)),i.duration=0,i.elapsed=0,i.running=!1,i}e(i,t);var o=i.prototype;return o.startTimer=function(t){this.duration=t,this.elapsed=0,this.running=!0},o.update=function(t){if(this.running){this.elapsed+=t;var i=Math.max(this.duration-this.elapsed,0),e=this.elapsed/this.duration;this.timerText&&(this.timerText.string=Math.ceil(i).toString()),this.timerRing&&(this.timerRing.fillRange=-e),this.elapsed>=this.duration&&(this.running=!1,this.node.emit("TIMER_COMPLETE"))}},i}(u)).prototype,"timerText",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=i(m.prototype,"timerRing",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/WinnerZoneController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BackendMock.ts"],(function(t){var e,i,n,o,l,r,a,s,c,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,a=t.Node,s=t.UIOpacity,c=t.tween,p=t.Component},function(t){u=t.BackendMock}],execute:function(){var h,d,g,w,f,G,y,v,R,b,k;l._RF.push({},"26d72RcXzlF8JRfeOvc6K2D","WinnerZoneController",void 0);var m=r.ccclass,F=r.property;t("WinnerZoneController",(h=m("WinnerZoneController"),d=F(a),g=F(a),w=F(a),f=F(u),h((v=e((y=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,n(e,"dragonGlow",v,o(e)),n(e,"tigerGlow",R,o(e)),n(e,"tieGlow",b,o(e)),n(e,"backend",k,o(e)),e.activeGlow=null,e.lastResult=null,e.dragonFlipped=!1,e.tigerFlipped=!1,e}i(e,t);var l=e.prototype;return l.start=function(){this.backend.node.on("RESULT_CARDS",this.onResult,this),this.backend.node.on("BETTING_START",this.resetGlow,this),this.prepareGlow(this.dragonGlow),this.prepareGlow(this.tigerGlow),this.prepareGlow(this.tieGlow),this.resetGlow()},l.prepareGlow=function(t){t.getComponent(s)||t.addComponent(s)},l.onCardFlipComplete=function(t){"Dragon"===t&&(this.dragonFlipped=!0),"Tiger"===t&&(this.tigerFlipped=!0),this.dragonFlipped&&this.tigerFlipped&&this.showWinner()},l.onResult=function(t){this.lastResult=t},l.resetGlow=function(){this.dragonFlipped=!1,this.tigerFlipped=!1,this.dragonGlow.active=!1,this.tigerGlow.active=!1,this.tieGlow.active=!1,this.activeGlow=null,this.lastResult=null},l.showWinner=function(){if(this.lastResult){var t=this.getRankValue(this.lastResult.dragon),e=this.getRankValue(this.lastResult.tiger);this.activeGlow=t>e?this.dragonGlow:e>t?this.tigerGlow:this.tieGlow,this.playBlinkAnimation(this.activeGlow)}},l.playBlinkAnimation=function(t){t.active=!0;var e=t.getComponent(s);e.opacity=255,c(e).to(.55,{opacity:0}).to(.55,{opacity:255}).to(.55,{opacity:0}).to(.55,{opacity:255}).call((function(){e.opacity=255})).start()},l.getRankValue=function(t){var e=t.split("_")[0];return["A","2","3","4","5","6","7","8","9","10","J","Q","K"].indexOf(e)},e}(p)).prototype,"dragonGlow",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(y.prototype,"tigerGlow",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"tieGlow",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(y.prototype,"backend",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=y))||G));l._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});